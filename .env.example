# ==============================================================================
# SECURITY SPACEE - Environment Configuration Template
# ==============================================================================
# Copy this file to .env and fill in the values
# DO NOT commit .env to version control!
# ==============================================================================

# ------------------------------------------------------------------------------
# GENERAL
# ------------------------------------------------------------------------------
TZ=UTC

# ------------------------------------------------------------------------------
# SERVER CONFIGURATION
# ------------------------------------------------------------------------------
SERVER_PORT=8080

# ------------------------------------------------------------------------------
# DATABASE CONFIGURATION (PostgreSQL)
# ------------------------------------------------------------------------------
DB_HOST=localhost
DB_PORT=5432
DB_NAME=security_spacee_db
DB_USERNAME=postgres
DB_PASSWORD=your_secure_password_here
DB_POOL_SIZE=20
DB_POOL_MIN_IDLE=5

# ------------------------------------------------------------------------------
# REDIS CONFIGURATION
# ------------------------------------------------------------------------------
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_MAX_MEMORY=256mb
REDIS_MAX_MEMORY_POLICY=allkeys-lru

# ------------------------------------------------------------------------------
# MAILPIT CONFIGURATION (Development SMTP Server)
# ------------------------------------------------------------------------------
MAIL_HOST=localhost
MAIL_PORT=1025
MAIL_USERNAME=
MAIL_PASSWORD=
MAIL_SMTP_AUTH=false
MAIL_SMTP_STARTTLS=false
MAILPIT_UI_PORT=8025
MAILPIT_MAX_MESSAGES=500
MAILPIT_SMTP_AUTH_ACCEPT_ANY=1
MAILPIT_SMTP_AUTH_ALLOW_INSECURE=1

# ------------------------------------------------------------------------------
# JWT CONFIGURATION
# ------------------------------------------------------------------------------
# IMPORTANT: Change this in production! Minimum 512 bits for HS512
JWT_SECRET=your-super-secret-jwt-key-minimum-512-bits-required-for-hs512-algorithm
JWT_ISSUER=security-spacee
JWT_AUDIENCE=security-spacee-api
JWT_ACCESS_EXPIRATION=900
JWT_REFRESH_EXPIRATION=604800

# ------------------------------------------------------------------------------
# SECURITY CONFIGURATION
# ------------------------------------------------------------------------------
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:4200,http://localhost:5173
MAX_LOGIN_ATTEMPTS=5
ACCOUNT_LOCK_DURATION=900000

# ------------------------------------------------------------------------------
# CACHE TTL CONFIGURATION (milliseconds)
# ------------------------------------------------------------------------------
CACHE_TTL_USER_PROFILE=1800000
CACHE_TTL_USER_ROLES=900000
CACHE_TTL_PERMISSIONS=3600000
CACHE_TTL_JWT_BLACKLIST=2592000000

# ------------------------------------------------------------------------------
# SESSION CONFIGURATION
# ------------------------------------------------------------------------------
SESSION_EXPIRATION=24h
SESSION_CONCURRENT_ENABLED=true
SESSION_CONCURRENT_MAX=5
SESSION_CONCURRENT_STRATEGY=FIFO
SESSION_NOTIFY_NEW_DEVICE=true
SESSION_GEOIP_ENABLED=false
SESSION_GEOIP_DB_PATH=/data/GeoLite2-City.mmdb
SESSION_TIMEOUT_ABSOLUTE=PT24H
SESSION_TIMEOUT_IDLE=PT30M
SESSION_TIMEOUT_SLIDING=false
SESSION_TIMEOUT_WARNING=PT5M
SESSION_CLEANUP_IDLE_INTERVAL=60000
SESSION_CLEANUP_ABSOLUTE_INTERVAL=300000
SESSION_ACTIVITY_TRACKING_ENABLED=true
SESSION_ACTIVITY_TRACKING_ASYNC=true
SESSION_ACTIVITY_TRACKING_BATCH=false

# ------------------------------------------------------------------------------
# LOGGING
# ------------------------------------------------------------------------------
LOG_LEVEL_ROOT=INFO
LOG_LEVEL_APP=DEBUG
LOG_LEVEL_SQL=DEBUG

# ------------------------------------------------------------------------------
# DOCKER NETWORK
# ------------------------------------------------------------------------------
DOCKER_NETWORK_NAME=postgresql-pgadmin_app-network
